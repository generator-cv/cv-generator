<!DOCTYPE html>
<html lang="en">
<head>
   <meta name="google-site-verification" content="dgUiDBjzjbT-0v0OHTBTVfxbjhiswv5EQUzNtlvuhkw" />
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ProCV ‚Äî Professional CV Generator</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;1,400&display=swap" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
/* ==============================
   RESET & CSS VARIABLES
================================ */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
:root{
  --navy:#0f172a;
  --navy2:#1e293b;
  --navy3:#334155;
  --indigo:#4f46e5;
  --indigo2:#6366f1;
  --violet:#7c3aed;
  --violet2:#8b5cf6;
  --gold:#f59e0b;
  --gold2:#fbbf24;
  --emerald:#10b981;
  --rose:#f43f5e;
  --slate:#64748b;
  --slate2:#94a3b8;
  --slate3:#cbd5e1;
  --light:#f1f5f9;
  --white:#ffffff;
  --grad1:linear-gradient(135deg,#4f46e5 0%,#7c3aed 50%,#6366f1 100%);
  --grad2:linear-gradient(135deg,#0f172a 0%,#1e293b 100%);
  --grad3:linear-gradient(135deg,#f59e0b 0%,#fbbf24 100%);
  --shadow-sm:0 1px 3px rgba(0,0,0,.08);
  --shadow:0 4px 6px rgba(0,0,0,.07);
  --shadow-md:0 10px 25px rgba(0,0,0,.10);
  --shadow-lg:0 20px 50px rgba(0,0,0,.15);
  --shadow-xl:0 32px 80px rgba(79,70,229,.2),0 12px 24px rgba(0,0,0,.1);
  --radius:12px;
  --radius-lg:20px;
  --radius-xl:28px;
  --transition:.2s ease;
}
html{scroll-behavior:smooth;font-size:16px;}
body{font-family:'DM Sans',sans-serif;background:#f8fafc;color:var(--navy);line-height:1.6;overflow-x:hidden;}
::selection{background:rgba(79,70,229,.2);color:var(--indigo);}
::-webkit-scrollbar{width:6px;}
::-webkit-scrollbar-track{background:#f1f5f9;}
::-webkit-scrollbar-thumb{background:var(--indigo2);border-radius:99px;}

/* ==============================
   NAV
================================ */
nav{
  position:fixed;top:0;left:0;right:0;z-index:1000;
  background:rgba(15,23,42,.96);
  backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);
  border-bottom:1px solid rgba(255,255,255,.06);
  padding:0 2rem;
  display:flex;align-items:center;justify-content:space-between;
  height:64px;
}
.nav-brand{display:flex;align-items:center;gap:.6rem;text-decoration:none;}
.nav-brand-icon{
  width:36px;height:36px;border-radius:10px;
  background:var(--grad1);
  display:flex;align-items:center;justify-content:center;
  font-family:'Playfair Display',serif;font-size:16px;font-weight:700;color:#fff;
}
.nav-brand-text{
  font-family:'Playfair Display',serif;font-size:1.3rem;font-weight:700;
  background:var(--grad1);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}
.nav-links{display:flex;align-items:center;gap:.25rem;}
.nav-link{
  padding:.45rem 1rem;border-radius:8px;
  color:var(--slate2);font-size:.875rem;font-weight:500;
  text-decoration:none;transition:all var(--transition);
  border:1px solid transparent;
}
.nav-link:hover{color:#fff;background:rgba(255,255,255,.08);border-color:rgba(255,255,255,.1);}
.nav-cta{
  background:var(--grad1);color:#fff!important;
  padding:.45rem 1.25rem!important;
  box-shadow:0 0 20px rgba(99,102,241,.4);
}
.nav-cta:hover{transform:translateY(-1px);box-shadow:0 0 30px rgba(99,102,241,.6);}
.mob-toggle{display:none;background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;}

/* ==============================
   HERO
================================ */
.hero{
  min-height:100vh;
  background:var(--grad2);
  display:flex;align-items:center;justify-content:center;
  text-align:center;padding:8rem 2rem 5rem;
  position:relative;overflow:hidden;
}
.hero::before{
  content:'';position:absolute;inset:0;
  background:
    radial-gradient(ellipse 80% 60% at 50% 0%,rgba(79,70,229,.35) 0%,transparent 70%),
    radial-gradient(ellipse 60% 40% at 80% 80%,rgba(124,58,237,.25) 0%,transparent 60%);
}
.hero-grid{
  position:absolute;inset:0;
  background-image:
    linear-gradient(rgba(99,102,241,.06) 1px,transparent 1px),
    linear-gradient(90deg,rgba(99,102,241,.06) 1px,transparent 1px);
  background-size:60px 60px;
  mask-image:radial-gradient(ellipse at center,black 30%,transparent 75%);
}
.hero-content{position:relative;z-index:1;max-width:760px;}
.hero-badge{
  display:inline-flex;align-items:center;gap:.5rem;
  background:rgba(99,102,241,.15);border:1px solid rgba(99,102,241,.3);
  padding:.4rem 1rem;border-radius:99px;
  font-size:.8rem;font-weight:600;color:var(--indigo2);letter-spacing:.05em;text-transform:uppercase;
  margin-bottom:1.75rem;animation:fadeUp .6s ease both;
}
.hero-badge-dot{width:7px;height:7px;border-radius:50%;background:var(--indigo2);animation:pulse 2s infinite;}
.hero h1{
  font-family:'Playfair Display',serif;
  font-size:clamp(2.8rem,6vw,4.5rem);font-weight:800;line-height:1.1;
  color:#fff;margin-bottom:1.25rem;animation:fadeUp .6s .1s ease both;
}
.hero h1 span{
  background:var(--grad1);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}
.hero p{
  font-size:1.125rem;color:var(--slate2);max-width:560px;margin:0 auto 2.5rem;
  animation:fadeUp .6s .2s ease both;
}
.hero-btns{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;animation:fadeUp .6s .3s ease both;}
.hero-stats{
  display:flex;gap:3rem;justify-content:center;margin-top:4rem;
  animation:fadeUp .6s .4s ease both;
}
.hero-stat-num{font-family:'Playfair Display',serif;font-size:2rem;font-weight:700;color:#fff;}
.hero-stat-label{font-size:.8rem;color:var(--slate2);text-transform:uppercase;letter-spacing:.08em;}

/* ==============================
   BUTTONS
================================ */
.btn{
  display:inline-flex;align-items:center;gap:.5rem;
  padding:.75rem 1.75rem;border-radius:10px;
  font-weight:600;font-size:.925rem;cursor:pointer;
  border:none;text-decoration:none;font-family:'DM Sans',sans-serif;
  transition:all .25s ease;letter-spacing:.01em;
}
.btn-primary{background:var(--grad1);color:#fff;box-shadow:0 0 30px rgba(99,102,241,.4);}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 0 50px rgba(99,102,241,.6);}
.btn-outline{background:transparent;color:#fff;border:1.5px solid rgba(255,255,255,.25);}
.btn-outline:hover{background:rgba(255,255,255,.08);border-color:rgba(255,255,255,.4);}
.btn-gold{background:var(--grad3);color:var(--navy);font-weight:700;box-shadow:0 0 25px rgba(245,158,11,.3);}
.btn-gold:hover{transform:translateY(-2px);box-shadow:0 0 40px rgba(245,158,11,.5);}
.btn-green{background:linear-gradient(135deg,#10b981,#059669);color:#fff;}
.btn-green:hover{transform:translateY(-2px);box-shadow:0 0 25px rgba(16,185,129,.4);}
.btn-ghost{background:rgba(79,70,229,.08);color:var(--indigo);border:1px solid rgba(79,70,229,.15);}
.btn-ghost:hover{background:rgba(79,70,229,.15);}
.btn-danger{background:linear-gradient(135deg,#f43f5e,#e11d48);color:#fff;}
.btn-danger:hover{transform:translateY(-1px);}
.btn-sm{padding:.5rem 1rem;font-size:.83rem;}

/* ==============================
   LAYOUT / SECTIONS
================================ */
section{padding:5rem 0;}
.container{max-width:1320px;margin:0 auto;padding:0 2rem;}
.section-header{text-align:center;margin-bottom:3.5rem;}
.section-tag{
  display:inline-block;
  background:rgba(79,70,229,.08);border:1px solid rgba(79,70,229,.15);
  color:var(--indigo);padding:.3rem .9rem;border-radius:99px;
  font-size:.78rem;font-weight:600;letter-spacing:.08em;text-transform:uppercase;
  margin-bottom:1rem;
}
.section-title{
  font-family:'Playfair Display',serif;
  font-size:clamp(1.8rem,4vw,2.8rem);font-weight:700;
  color:var(--navy);margin-bottom:.75rem;line-height:1.2;
}
.section-title span{color:var(--indigo);}
.section-sub{color:var(--slate);font-size:1.05rem;max-width:520px;margin:0 auto;}

/* ==============================
   CARD
================================ */
.card{
  background:var(--white);border-radius:var(--radius-lg);
  box-shadow:var(--shadow-md);border:1px solid rgba(0,0,0,.04);
  overflow:hidden;
}
.card-header{
  padding:1.25rem 1.75rem;
  border-bottom:1px solid var(--light);
  display:flex;align-items:center;gap:.75rem;
  background:linear-gradient(135deg,rgba(79,70,229,.03),rgba(124,58,237,.03));
}
.card-icon{
  width:42px;height:42px;border-radius:11px;
  background:rgba(79,70,229,.1);
  display:flex;align-items:center;justify-content:center;
  font-size:1.15rem;flex-shrink:0;
}
.card-header h3{font-size:1rem;font-weight:700;color:var(--navy);}
.card-header p{font-size:.8rem;color:var(--slate);margin-top:.1rem;}
.card-body{padding:1.75rem;}

/* ==============================
   FORM ELEMENTS
================================ */
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:1.1rem;}
.form-grid.cols-3{grid-template-columns:1fr 1fr 1fr;}
.form-grid.cols-4{grid-template-columns:1fr 1fr 1fr 1fr;}
.form-group{display:flex;flex-direction:column;gap:.4rem;}
.form-group.full{grid-column:1/-1;}
label{font-size:.81rem;font-weight:600;color:var(--navy3);letter-spacing:.02em;}
label .opt{font-weight:400;color:var(--slate);font-size:.76rem;}
input[type="text"],input[type="email"],input[type="tel"],input[type="date"],input[type="number"],select,textarea{
  width:100%;padding:.62rem .85rem;
  border:1.5px solid var(--slate3);border-radius:8px;
  font-family:'DM Sans',sans-serif;font-size:.88rem;color:var(--navy);
  background:#fff;transition:all var(--transition);outline:none;
}
input:focus,select:focus,textarea:focus{
  border-color:var(--indigo);box-shadow:0 0 0 3px rgba(79,70,229,.1);
}
input.err,textarea.err,select.err{
  border-color:var(--rose)!important;
  box-shadow:0 0 0 3px rgba(244,63,94,.1)!important;
}
textarea{resize:vertical;min-height:80px;line-height:1.6;}
.err-msg{font-size:.76rem;color:var(--rose);font-weight:500;display:none;margin-top:.1rem;}
.err-msg.show{display:block;}
.hint{font-size:.76rem;color:var(--slate);font-style:italic;margin-top:.2rem;}
.divider{height:1px;background:var(--light);margin:1.25rem 0;}
.sub-label{
  font-size:.78rem;font-weight:700;color:var(--indigo);
  text-transform:uppercase;letter-spacing:.08em;
  padding:.2rem 0 .65rem;border-bottom:2px solid rgba(79,70,229,.12);
  margin-bottom:1rem;display:flex;align-items:center;gap:.4rem;
}

/* ==============================
   DYNAMIC ENTRIES
================================ */
.entries-wrap{display:flex;flex-direction:column;gap:.9rem;}
.entry-card{
  background:var(--light);border-radius:var(--radius);
  padding:1.15rem 1.25rem;border:1.5px solid rgba(79,70,229,.08);
  animation:fadeIn .3s ease;
}
.entry-card-top{
  display:flex;align-items:center;justify-content:space-between;
  margin-bottom:.9rem;
}
.entry-card-label{font-size:.8rem;font-weight:700;color:var(--indigo);text-transform:uppercase;letter-spacing:.07em;}
.add-btn{
  width:100%;padding:.65rem;border-radius:8px;
  border:2px dashed rgba(79,70,229,.25);
  background:rgba(79,70,229,.03);color:var(--indigo);
  font-weight:600;font-size:.875rem;cursor:pointer;
  transition:all var(--transition);font-family:'DM Sans',sans-serif;
  display:flex;align-items:center;justify-content:center;gap:.5rem;margin-top:.9rem;
}
.add-btn:hover{border-color:var(--indigo);background:rgba(79,70,229,.08);}

/* ==============================
   MAIN CV LAYOUT
================================ */
#cv-section{background:#f8fafc;}
.cv-layout{display:grid;grid-template-columns:1fr 1fr;gap:2rem;align-items:start;}
.form-col{display:flex;flex-direction:column;gap:1.4rem;}
.preview-col{position:sticky;top:80px;}

/* ==============================
   PREVIEW PANEL
================================ */
.preview-wrap{
  background:#fff;border-radius:var(--radius-lg);
  box-shadow:var(--shadow-xl);border:1px solid rgba(0,0,0,.05);
  overflow:hidden;
}
.preview-bar{
  background:var(--navy2);padding:.9rem 1.4rem;
  display:flex;align-items:center;justify-content:space-between;gap:.75rem;flex-wrap:wrap;
}
.preview-bar-left{display:flex;align-items:center;gap:.75rem;}
.dots{display:flex;gap:.35rem;}
.dot{width:10px;height:10px;border-radius:50%;}
.dot-r{background:#ff5f57;}.dot-y{background:#febc2e;}.dot-g{background:#28c840;}
.preview-tag{font-size:.76rem;font-weight:600;color:var(--slate2);letter-spacing:.07em;text-transform:uppercase;}
.preview-btns{display:flex;gap:.5rem;flex-wrap:wrap;}
.preview-scroll{max-height:calc(100vh - 190px);overflow-y:auto;}

/* ==============================
   CV DOCUMENT
================================ */
#cv-doc{
  font-family:'DM Sans',sans-serif;
  background:#fff;min-height:900px;
}

/* CV Header */
.cv-top{
  background:linear-gradient(135deg,#4f46e5 0%,#7c3aed 55%,#6366f1 100%);
  padding:2.25rem 2.5rem 1.75rem;position:relative;overflow:hidden;
}
.cv-top::before{
  content:'';position:absolute;top:-50px;right:-50px;
  width:220px;height:220px;border-radius:50%;background:rgba(255,255,255,.07);
}
.cv-top::after{
  content:'';position:absolute;bottom:-70px;left:-30px;
  width:170px;height:170px;border-radius:50%;background:rgba(255,255,255,.05);
}
.cv-name{
  font-family:'Playfair Display',serif;
  font-size:1.9rem;font-weight:800;color:#fff;line-height:1.15;margin-bottom:.25rem;
  position:relative;z-index:1;
}
.cv-contacts-row{
  display:flex;flex-wrap:wrap;gap:.45rem .9rem;margin-top:1rem;
  position:relative;z-index:1;
}
.cv-ci{
  display:flex;align-items:center;gap:.3rem;
  font-size:.76rem;color:rgba(255,255,255,.88);font-weight:500;
}

/* CV Body */
.cv-inner{padding:0 2rem 1.75rem;}
.cv-cols{display:grid;grid-template-columns:1fr 1fr;gap:0 2rem;}
.cv-left{border-right:1px solid var(--light);padding-right:1.5rem;padding-top:1.5rem;}
.cv-right{padding-top:1.5rem;}
.cv-full{grid-column:1/-1;padding-top:1.25rem;}

/* CV Section Heading */
.cv-sh{
  font-size:.68rem;font-weight:700;color:var(--indigo);
  text-transform:uppercase;letter-spacing:.12em;
  border-bottom:2px solid rgba(79,70,229,.18);
  padding-bottom:.3rem;margin-bottom:.75rem;
}
/* Personal details table in CV */
.cv-detail-table{width:100%;border-collapse:collapse;}
.cv-detail-table tr td{padding:.22rem 0;font-size:.8rem;vertical-align:top;}
.cv-detail-table tr td:first-child{color:var(--slate);font-weight:600;width:38%;padding-right:.5rem;}
.cv-detail-table tr td:last-child{color:var(--navy);font-weight:500;}
/* Education blocks */
.cv-edu-block{margin-bottom:.9rem;}
.cv-edu-level{font-size:.7rem;font-weight:700;color:var(--violet);text-transform:uppercase;letter-spacing:.08em;margin-bottom:.15rem;}
.cv-edu-name{font-size:.84rem;font-weight:700;color:var(--navy);}
.cv-edu-qual{font-size:.78rem;color:var(--indigo);font-weight:600;font-style:italic;}
.cv-edu-years{font-size:.75rem;color:var(--slate);}
/* Hobbies */
.cv-hobbies-list{list-style:none;display:flex;flex-direction:column;gap:.25rem;}
.cv-hobbies-list li{font-size:.8rem;color:var(--navy3);padding-left:.9rem;position:relative;}
.cv-hobbies-list li::before{content:'‚ñ∏';position:absolute;left:0;color:var(--indigo);font-size:.7rem;}
/* Work experience */
.cv-exp-block{margin-bottom:1rem;}
.cv-exp-head{display:flex;justify-content:space-between;align-items:flex-start;gap:.5rem;}
.cv-exp-title{font-size:.86rem;font-weight:700;color:var(--navy);}
.cv-exp-dur{font-size:.74rem;color:var(--slate);white-space:nowrap;font-weight:500;}
.cv-exp-company{font-size:.8rem;color:var(--indigo);font-weight:600;margin:.1rem 0;}
.cv-exp-resp{font-size:.78rem;color:var(--slate);line-height:1.65;margin-top:.25rem;}
/* Referees */
.cv-ref-grid{display:grid;grid-template-columns:1fr 1fr;gap:.75rem 1.25rem;}
.cv-ref-block{padding:.6rem .75rem;background:rgba(79,70,229,.04);border-radius:8px;border-left:3px solid var(--indigo);}
.cv-ref-name{font-size:.84rem;font-weight:700;color:var(--navy);}
.cv-ref-info{font-size:.76rem;color:var(--slate);line-height:1.6;}
.cv-ref-info span{color:var(--navy3);}

/* Empty preview */
.empty-state{
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  height:420px;text-align:center;color:var(--slate);gap:.75rem;
}
.empty-icon{font-size:3rem;opacity:.25;}
.empty-text{font-size:.88rem;opacity:.55;line-height:1.6;}

/* ==============================
   ALERT OVERLAY
================================ */
.overlay{
  position:fixed;inset:0;z-index:9999;
  background:rgba(15,23,42,.65);backdrop-filter:blur(8px);
  display:flex;align-items:center;justify-content:center;padding:1rem;
  opacity:0;pointer-events:none;transition:opacity .3s ease;
}
.overlay.show{opacity:1;pointer-events:all;}
.alert-box{
  background:#fff;border-radius:var(--radius-xl);
  padding:2.5rem 2.25rem;max-width:400px;width:100%;text-align:center;
  transform:translateY(24px);transition:transform .3s ease;
  box-shadow:var(--shadow-xl);
}
.overlay.show .alert-box{transform:translateY(0);}
.alert-ico{font-size:2.8rem;margin-bottom:.85rem;}
.alert-ttl{font-family:'Playfair Display',serif;font-size:1.35rem;font-weight:700;color:var(--navy);margin-bottom:.4rem;}
.alert-sub{color:var(--slate);font-size:.875rem;margin-bottom:1.6rem;line-height:1.6;}
.alert-progress{
  height:4px;background:var(--light);border-radius:99px;overflow:hidden;margin-bottom:1.4rem;
  display:none;
}
.alert-progress.show{display:block;}
.alert-progress-bar{
  height:100%;background:var(--grad1);border-radius:99px;
  width:0%;transition:width 2.5s linear;
}

/* ==============================
   PROGRESS BAR
================================ */
.progress-bar{
  position:fixed;top:64px;left:0;right:0;height:3px;
  background:linear-gradient(90deg,var(--indigo),var(--violet),var(--gold2));
  transform-origin:left;transform:scaleX(0);z-index:999;
  transition:transform .1s linear;
}

/* ==============================
   PRICING
================================ */
#pricing{background:linear-gradient(180deg,#f8fafc 0%,#eef2ff 100%);}
.pricing-grid{display:grid;grid-template-columns:1fr 1fr;gap:2rem;max-width:780px;margin:0 auto;}
.price-card{
  background:#fff;border-radius:var(--radius-xl);
  padding:2.25rem;box-shadow:var(--shadow-md);
  border:2px solid transparent;transition:all .3s ease;position:relative;overflow:hidden;
}
.price-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);}
.price-card.featured{border-color:var(--indigo);box-shadow:var(--shadow-xl);}
.price-badge{
  position:absolute;top:1.25rem;right:1.25rem;
  background:var(--grad1);color:#fff;
  padding:.2rem .65rem;border-radius:99px;
  font-size:.68rem;font-weight:700;letter-spacing:.06em;text-transform:uppercase;
}
.price-plan{font-size:.76rem;font-weight:700;color:var(--indigo);letter-spacing:.1em;text-transform:uppercase;margin-bottom:.5rem;}
.price-amount{font-family:'Playfair Display',serif;font-size:2.4rem;font-weight:800;color:var(--navy);}
.price-amount span{font-size:.95rem;font-weight:500;color:var(--slate);}
.price-desc{font-size:.86rem;color:var(--slate);margin:.65rem 0 1.4rem;}
.price-features{list-style:none;display:flex;flex-direction:column;gap:.6rem;margin-bottom:1.9rem;}
.price-features li{display:flex;align-items:center;gap:.55rem;font-size:.86rem;color:var(--navy3);font-weight:500;}
.price-features li::before{
  content:'‚úì';width:19px;height:19px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:.68rem;font-weight:700;flex-shrink:0;
}
.price-card.featured .price-features li::before{background:var(--indigo);color:#fff;}
.price-card:not(.featured) .price-features li::before{background:rgba(79,70,229,.1);color:var(--indigo);}

/* ==============================
   FOOTER
================================ */
footer{background:var(--navy);padding:3.5rem 2rem 1.75rem;}
.footer-in{max-width:1320px;margin:0 auto;}
.footer-grid{display:grid;grid-template-columns:1.2fr 1fr 1fr;gap:3rem;margin-bottom:2.5rem;}
.footer-brand{font-family:'Playfair Display',serif;font-size:1.35rem;font-weight:700;color:#fff;margin-bottom:.65rem;}
.footer-desc{font-size:.86rem;color:var(--slate2);line-height:1.75;}
.footer-col-title{font-size:.76rem;font-weight:700;color:var(--slate2);letter-spacing:.1em;text-transform:uppercase;margin-bottom:1rem;}
.footer-links-col{display:flex;flex-direction:column;gap:.45rem;}
.footer-link{color:var(--slate3);font-size:.86rem;text-decoration:none;transition:color var(--transition);}
.footer-link:hover{color:#fff;}
.footer-contact-row{display:flex;align-items:flex-start;gap:.55rem;margin-bottom:.65rem;}
.footer-contact-icon{font-size:.95rem;margin-top:.05rem;flex-shrink:0;}
.footer-contact-val{font-size:.86rem;color:var(--slate3);line-height:1.5;}
.footer-divider{height:1px;background:rgba(255,255,255,.07);margin-bottom:1.4rem;}
.footer-bottom{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:1rem;}
.footer-copy{font-size:.8rem;color:var(--slate);}
.footer-copy a{color:var(--indigo2);text-decoration:none;}
.scroll-top-btn{
  width:38px;height:38px;border-radius:9px;
  background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.1);
  color:#fff;cursor:pointer;font-size:1rem;
  display:flex;align-items:center;justify-content:center;
  transition:all var(--transition);
}
.scroll-top-btn:hover{background:var(--indigo);border-color:var(--indigo);}

/* ==============================
   WA FLOAT
================================ */
.wa-float{
  position:fixed;bottom:2rem;right:2rem;z-index:900;
  display:flex;align-items:center;gap:.55rem;
  background:#25d366;color:#fff;
  padding:.7rem 1.2rem;border-radius:99px;
  box-shadow:0 4px 20px rgba(37,211,102,.4);
  font-weight:700;font-size:.85rem;
  text-decoration:none;transition:all .25s ease;
  animation:fadeUp .6s 1s ease both;
}
.wa-float:hover{transform:translateY(-3px);box-shadow:0 8px 30px rgba(37,211,102,.5);}
.wa-float svg{width:20px;height:20px;fill:currentColor;}

/* ==============================
   ANIMATIONS
================================ */
@keyframes fadeUp{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
@keyframes pulse{0%,100%{transform:scale(1);}50%{transform:scale(1.35);opacity:.7;}}

.fade-up{opacity:0;transform:translateY(22px);transition:opacity .55s ease,transform .55s ease;}
.fade-up.visible{opacity:1;transform:translateY(0);}

/* ==============================
   RESPONSIVE
================================ */
@media(max-width:1100px){
  .cv-layout{grid-template-columns:1fr;}
  .preview-col{position:static;}
}
@media(max-width:768px){
  .nav-links{display:none;flex-direction:column;position:fixed;top:64px;left:0;right:0;background:var(--navy);padding:1rem;gap:.2rem;}
  .nav-links.open{display:flex;}
  .mob-toggle{display:flex;}
  .form-grid,.form-grid.cols-3,.form-grid.cols-4{grid-template-columns:1fr;}
  .form-group.full{grid-column:1;}
  .pricing-grid{grid-template-columns:1fr;}
  .footer-grid{grid-template-columns:1fr;}
  .cv-cols{grid-template-columns:1fr;}
  .cv-left{border-right:none;border-bottom:1px solid var(--light);padding-right:0;padding-bottom:1rem;}
  .cv-ref-grid{grid-template-columns:1fr;}
  .preview-btns{justify-content:center;}
  .footer-bottom{flex-direction:column;text-align:center;}
}
@media(max-width:480px){
  .hero h1{font-size:2.2rem;}
  .hero-btns{flex-direction:column;align-items:center;}
  .hero-stats{gap:1.5rem;}
  .card-body{padding:1.25rem;}
}
@media print{
  nav,.preview-bar,#pricing,footer,.wa-float,.overlay,.progress-bar,
  .form-col,.preview-btns,.hero{display:none!important;}
  body,html{background:#fff!important;}
  .preview-col{position:static!important;}
  .preview-wrap,.preview-scroll{overflow:visible!important;max-height:none!important;box-shadow:none!important;border:none!important;}
  .cv-layout{display:block!important;}
}
</style>
</head>
<body>

<!-- Progress Bar -->
<div class="progress-bar" id="prog"></div>

<!-- Alert Overlay -->
<div class="overlay" id="overlay">
  <div class="alert-box">
    <div class="alert-ico" id="a-icon">‚úÖ</div>
    <div class="alert-ttl" id="a-title">Done!</div>
    <div class="alert-sub" id="a-msg">Action completed.</div>
    <div class="alert-progress" id="a-prog"><div class="alert-progress-bar" id="a-prog-bar"></div></div>
    <button class="btn btn-primary" onclick="closeAlert()" id="a-btn">Close</button>
  </div>
</div>

<!-- WhatsApp Float -->
<a class="wa-float" href="https://wa.me/255658502920?text=Hello%20Hafidh%2C%20I%20would%20like%20a%20professionally%20designed%20CV." target="_blank" rel="noopener" aria-label="Order via WhatsApp">
  <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51a6.906 6.906 0 00-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/><path d="M12 0C5.373 0 0 5.373 0 12c0 2.126.553 4.123 1.519 5.862L0 24l6.335-1.499A11.957 11.957 0 0012 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 21.818a9.818 9.818 0 01-5.002-1.37l-.36-.214-3.732.883.897-3.648-.234-.374A9.818 9.818 0 1112 21.818z"/></svg>
  Order Pro CV
</a>

<!-- ==================== NAV ==================== -->
<nav id="navbar">
  <a href="#home" class="nav-brand">
    <div class="nav-brand-icon">P</div>
    <span class="nav-brand-text">ProCV</span>
  </a>
  <div class="nav-links" id="nav-links">
    <a href="#cv-section" class="nav-link" onclick="closeNav()">üìÑ CV Generator</a>
    <a href="#pricing" class="nav-link" onclick="closeNav()">üíé Pricing</a>
    <a href="https://wa.me/255658502920?text=Hello%20Hafidh%2C%20I%20would%20like%20a%20professionally%20designed%20CV." target="_blank" class="nav-link nav-cta" onclick="closeNav()">Order Pro CV ‚Üí</a>
  </div>
  <button class="mob-toggle" onclick="toggleNav()" aria-label="Menu">‚ò∞</button>
</nav>

<!-- ==================== HERO ==================== -->
<section class="hero" id="home">
  <div class="hero-grid"></div>
  <div class="hero-content">
    <div class="hero-badge">
      <span class="hero-badge-dot"></span>
      Free Professional CV Builder
    </div>
    <h1>Build Your Dream CV<br><span>in Minutes</span></h1>
    <p>Create a polished, recruiter-ready CV with our free online generator. Fill in your details, preview in real-time, download as PDF.</p>
    <div class="hero-btns">
      <a href="#cv-section" class="btn btn-primary">üöÄ Build My CV Now</a>
      <a href="#pricing" class="btn btn-outline">üíé View Premium Plans</a>
    </div>
    <div class="hero-stats">
      <div>
        <div class="hero-stat-num">500+</div>
        <div class="hero-stat-label">CVs Created</div>
      </div>
      <div>
        <div class="hero-stat-num">100%</div>
        <div class="hero-stat-label">Free to Use</div>
      </div>
      <div>
        <div class="hero-stat-num">PDF</div>
        <div class="hero-stat-label">Export Ready</div>
      </div>
    </div>
  </div>
</section>

<!-- ==================== CV SECTION ==================== -->
<section id="cv-section">
  <div class="container">
    <div class="section-header fade-up">
      <div class="section-tag">CV Generator</div>
      <h2 class="section-title">Create Your <span>Professional CV</span></h2>
      <p class="section-sub">Fill in the form and watch your CV come alive in the live preview on the right.</p>
    </div>

    <div class="cv-layout">

      <!-- ========== FORM COLUMN ========== -->
      <div class="form-col">

        <!-- 1. PERSONAL INFORMATION -->
        <div class="card fade-up">
          <div class="card-header">
            <div class="card-icon">üë§</div>
            <div>
              <h3>Personal Information</h3>
              <p>Your basic personal and contact details</p>
            </div>
          </div>
          <div class="card-body">
            <div class="form-grid">
              <div class="form-group">
                <label>Full Name *</label>
                <input type="text" id="pi-name" placeholder="e.g. Hafidh Omar Othman" oninput="liveUpdate()"/>
                <span class="err-msg" id="e-pi-name">Full name is required</span>
              </div>
              <div class="form-group">
                <label>Phone Number *</label>
                <input type="tel" id="pi-phone" placeholder="+255 658 502 920" oninput="liveUpdate()"/>
                <span class="err-msg" id="e-pi-phone">Phone number is required</span>
              </div>
              <div class="form-group">
                <label>Email Address *</label>
                <input type="email" id="pi-email" placeholder="you@email.com" oninput="liveUpdate()"/>
                <span class="err-msg" id="e-pi-email">Valid email is required</span>
              </div>
              <div class="form-group">
                <label>Date of Birth *</label>
                <input type="date" id="pi-dob" oninput="liveUpdate()"/>
                <span class="err-msg" id="e-pi-dob">Date of birth is required</span>
              </div>
              <div class="form-group">
                <label>Gender *</label>
                <select id="pi-gender" onchange="liveUpdate()">
                  <option value="">-- Select Gender --</option>
                  <option>Male</option>
                  <option>Female</option>
                  <option>Prefer not to say</option>
                </select>
                <span class="err-msg" id="e-pi-gender">Please select gender</span>
              </div>
              <div class="form-group">
                <label>Marital Status *</label>
                <select id="pi-marital" onchange="liveUpdate()">
                  <option value="">-- Select Status --</option>
                  <option>Single</option>
                  <option>Married</option>
                  <option>Divorced</option>
                  <option>Widowed</option>
                </select>
                <span class="err-msg" id="e-pi-marital">Please select marital status</span>
              </div>
              <div class="form-group full">
                <label>Nationality *</label>
                <input type="text" id="pi-nationality" placeholder="e.g. Tanzanian" oninput="liveUpdate()"/>
                <span class="err-msg" id="e-pi-nationality">Nationality is required</span>
              </div>
            </div>
          </div>
        </div>

        <!-- 2. EDUCATION BACKGROUND -->
        <div class="card fade-up">
          <div class="card-header">
            <div class="card-icon">üéì</div>
            <div>
              <h3>Education Background</h3>
              <p>Your academic history from primary to university</p>
            </div>
          </div>
          <div class="card-body">

            <!-- Primary -->
            <div class="sub-label">üè´ Primary Education</div>
            <div class="form-grid cols-3">
              <div class="form-group full" style="grid-column:1/3;">
                <label>School Name</label>
                <input type="text" id="edu-pri-school" placeholder="e.g. Azimio Primary School" oninput="liveUpdate()"/>
              </div>
              <div class="form-group">
                <label>From Year</label>
                <input type="text" id="edu-pri-from" placeholder="2002" oninput="liveUpdate()"/>
              </div>
              <div class="form-group">
                <label>To Year</label>
                <input type="text" id="edu-pri-to" placeholder="2008" oninput="liveUpdate()"/>
              </div>
            </div>

            <div class="divider"></div>

            <!-- O'Level -->
            <div class="sub-label">üìò O'Level Education (Ordinary)</div>
            <div class="form-grid">
              <div class="form-group full">
                <label>School Name</label>
                <input type="text" id="edu-olv-school" placeholder="e.g. Tambaza High School" oninput="liveUpdate()"/>
              </div>
              <div class="form-group">
                <label>From Year</label>
                <input type="text" id="edu-olv-from" placeholder="2009" oninput="liveUpdate()"/>
              </div>
              <div class="form-group">
                <label>To Year</label>
                <input type="text" id="edu-olv-to" placeholder="2013" oninput="liveUpdate()"/>
              </div>
            </div>

            <div class="divider"></div>

            <!-- A'Level -->
            <div class="sub-label">üìó A'Level Education (Advanced)</div>
            <div class="form-grid">
              <div class="form-group full">
                <label>School Name</label>
                <input type="text" id="edu-alv-school" placeholder="e.g. Kibaha High School" oninput="liveUpdate()"/>
              </div>
              <div class="form-group">
                <label>From Year</label>
                <input type="text" id="edu-alv-from" placeholder="2014" oninput="liveUpdate()"/>
              </div>
              <div class="form-group">
                <label>To Year</label>
                <input type="text" id="edu-alv-to" placeholder="2016" oninput="liveUpdate()"/>
              </div>
            </div>

            <div class="divider"></div>

            <!-- University -->
            <div class="sub-label">üèõÔ∏è University / Higher Education</div>
            <div class="form-grid">
              <div class="form-group full">
                <label>University / Institution Name</label>
                <input type="text" id="edu-uni-name" placeholder="e.g. University of Dar es Salaam (UDSM)" oninput="liveUpdate()"/>
              </div>
              <div class="form-group full">
                <label>Degree / Qualification</label>
                <input type="text" id="edu-uni-degree" placeholder="e.g. Bachelor of Science in Computer Science" oninput="liveUpdate()"/>
              </div>
              <div class="form-group">
                <label>From Year</label>
                <input type="text" id="edu-uni-from" placeholder="2017" oninput="liveUpdate()"/>
              </div>
              <div class="form-group">
                <label>To Year</label>
                <input type="text" id="edu-uni-to" placeholder="2021" oninput="liveUpdate()"/>
              </div>
            </div>

          </div>
        </div>

        <!-- 3. HOBBIES -->
        <div class="card fade-up">
          <div class="card-header">
            <div class="card-icon">üéØ</div>
            <div>
              <h3>Hobbies &amp; Interests</h3>
              <p>One hobby per line ‚Äî shown as bullet points in CV</p>
            </div>
          </div>
          <div class="card-body">
            <div class="form-group">
              <label>Hobbies <span class="opt">(one per line)</span></label>
              <textarea id="hobbies" rows="4" placeholder="Reading&#10;Football&#10;Photography&#10;Travelling" oninput="liveUpdate()"></textarea>
              <span class="hint">Enter each hobby on a new line. They appear as bullet points in your CV.</span>
            </div>
          </div>
        </div>

        <!-- 4. WORK EXPERIENCE -->
        <div class="card fade-up">
          <div class="card-header">
            <div class="card-icon">üíº</div>
            <div>
              <h3>Work Experience</h3>
              <p>Add all your relevant work history</p>
            </div>
          </div>
          <div class="card-body">
            <div class="entries-wrap" id="exp-list"></div>
            <button class="add-btn" onclick="addExp()">
              <span style="font-size:1.1rem;">+</span> Add Work Experience
            </button>
          </div>
        </div>

        <!-- 5. REFEREES -->
        <div class="card fade-up">
          <div class="card-header">
            <div class="card-icon">üìã</div>
            <div>
              <h3>Referees</h3>
              <p>Add at least 2 professional referees</p>
            </div>
          </div>
          <div class="card-body">
            <div class="entries-wrap" id="ref-list"></div>
            <button class="add-btn" onclick="addRef()">
              <span style="font-size:1.1rem;">+</span> Add Referee
            </button>
            <span class="err-msg" id="e-refs" style="margin-top:.5rem;">Please add at least 2 referees</span>
          </div>
        </div>

        <!-- ACTION BUTTONS -->
        <div class="card fade-up">
          <div class="card-body">
            <div style="display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;">
              <button class="btn btn-primary" onclick="doDownloadPDF()">‚¨áÔ∏è Download PDF</button>
              <button class="btn btn-green" onclick="doPrint()">üñ®Ô∏è Print CV</button>
              <button class="btn btn-gold" onclick="doWhatsApp()">üì± Order Pro CV ‚Äî 3,000 TZS</button>
              <button class="btn btn-ghost" onclick="doReset()">‚Ü∫ Reset Form</button>
            </div>
            <p class="hint" style="margin-top:.75rem;">Tip: Fill all required fields, then download or print your professional CV.</p>
          </div>
        </div>

      </div><!-- /form-col -->

      <!-- ========== PREVIEW COLUMN ========== -->
      <div class="preview-col">
        <div class="preview-wrap">
          <div class="preview-bar">
            <div class="preview-bar-left">
              <div class="dots">
                <div class="dot dot-r"></div>
                <div class="dot dot-y"></div>
                <div class="dot dot-g"></div>
              </div>
              <span class="preview-tag">Live Preview</span>
            </div>
            <div class="preview-btns">
              <button class="btn btn-sm btn-primary" onclick="doDownloadPDF()">‚¨áÔ∏è PDF</button>
              <button class="btn btn-sm btn-ghost" onclick="doPrint()">üñ®Ô∏è Print</button>
            </div>
          </div>
          <div class="preview-scroll">
            <div id="cv-doc">
              <div class="empty-state" id="empty-state">
                <div class="empty-icon">üìÑ</div>
                <div class="empty-text">Start filling in the form<br>and your CV will appear here in real-time</div>
              </div>
            </div>
          </div>
        </div>
      </div><!-- /preview-col -->

    </div><!-- /cv-layout -->
  </div>
</section>

<!-- ==================== PRICING ==================== -->
<section id="pricing">
  <div class="container">
    <div class="section-header fade-up">
      <div class="section-tag">Pricing</div>
      <h2 class="section-title">Simple, Transparent <span>Pricing</span></h2>
      <p class="section-sub">Start free. Upgrade when you need a recruiter-stopping premium design.</p>
    </div>
    <div class="pricing-grid fade-up">

      <div class="price-card">
        <div class="price-plan">Free Plan</div>
        <div class="price-amount">0 <span>TZS</span></div>
        <div class="price-desc">Everything to get started today</div>
        <ul class="price-features">
          <li>Full CV Generator</li>
          <li>Live Real-time Preview</li>
          <li>Basic PDF Download</li>
          <li>Print Ready Format</li>
          <li>All CV Sections Included</li>
        </ul>
        <a href="#cv-section" class="btn btn-ghost" style="width:100%;justify-content:center;">Start Building Free ‚Üí</a>
      </div>

      <div class="price-card featured">
        <div class="price-badge">POPULAR</div>
        <div class="price-plan">Premium Plan</div>
        <div class="price-amount">3,000 <span>TZS</span></div>
        <div class="price-desc">A stunning CV that gets noticed by employers</div>
        <ul class="price-features">
          <li>Everything in Free</li>
          <li>Professional Premium Design</li>
          <li>Custom Formatting &amp; Layout</li>
          <li>Multiple Color Themes</li>
          <li>Fast Delivery within 24hrs</li>
          <li>WhatsApp Support</li>
          <li>Unlimited Revisions</li>
        </ul>
        <a href="https://wa.me/255658502920?text=Hello%20Hafidh%2C%20I%20would%20like%20a%20professionally%20designed%20CV." target="_blank" class="btn btn-primary" style="width:100%;justify-content:center;">Order via WhatsApp ‚Üí</a>
      </div>

    </div>

    <div class="text-center fade-up" style="text-align:center;margin-top:3rem;">
      <div class="card" style="max-width:620px;margin:0 auto;">
        <div class="card-body" style="text-align:center;padding:2.5rem;">
          <div style="font-size:2.5rem;margin-bottom:.9rem;">üé®</div>
          <h3 style="font-family:'Playfair Display',serif;font-size:1.5rem;font-weight:700;margin-bottom:.5rem;">Need a Premium Designed CV?</h3>
          <p style="color:var(--slate);margin-bottom:1.5rem;">Get a stunning, recruiter-approved CV designed by a professional ‚Äî delivered fast to your WhatsApp.</p>
          <a href="https://wa.me/255658502920?text=Hello%20Hafidh%2C%20I%20would%20like%20a%20professionally%20designed%20CV." target="_blank" class="btn btn-gold">
            <svg style="width:19px;height:19px;fill:currentColor;" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51a6.906 6.906 0 00-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/><path d="M12 0C5.373 0 0 5.373 0 12c0 2.126.553 4.123 1.519 5.862L0 24l6.335-1.499A11.957 11.957 0 0012 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 21.818a9.818 9.818 0 01-5.002-1.37l-.36-.214-3.732.883.897-3.648-.234-.374A9.818 9.818 0 1112 21.818z"/></svg>
            Order Professional CV ‚Äî 3,000 TZS
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ==================== FOOTER ==================== -->
<footer>
  <div class="footer-in">
    <div class="footer-grid">
      <div>
        <div class="footer-brand">ProCV Generator</div>
        <p class="footer-desc">Build polished, professional CVs for free. Perfect for students, fresh graduates and professionals in Tanzania and East Africa.</p>
      </div>
      <div>
        <div class="footer-col-title">Quick Links</div>
        <div class="footer-links-col">
          <a href="#home" class="footer-link">Home</a>
          <a href="#cv-section" class="footer-link">CV Generator</a>
          <a href="#pricing" class="footer-link">Pricing</a>
          <a href="https://wa.me/255658502920" class="footer-link" target="_blank">Order Premium CV</a>
        </div>
      </div>
      <div>
        <div class="footer-col-title">Developer Contact</div>
        <div class="footer-contact-row">
          <span class="footer-contact-icon">üë§</span>
          <span class="footer-contact-val"><strong style="color:#fff;">Hafidh Omar Othman</strong></span>
        </div>
        <div class="footer-contact-row">
          <span class="footer-contact-icon">üìû</span>
          <a href="tel:+255658502920" class="footer-contact-val" style="color:var(--slate3);text-decoration:none;">+255 658 502 920</a>
        </div>
        <div class="footer-contact-row">
          <span class="footer-contact-icon">‚úâÔ∏è</span>
          <a href="mailto:hafidhomar167@gmail.com" class="footer-contact-val" style="color:var(--slate3);text-decoration:none;">hafidhomar167@gmail.com</a>
        </div>
        <div class="footer-contact-row">
          <span class="footer-contact-icon">üìç</span>
          <span class="footer-contact-val">Dar es Salaam, Tanzania</span>
        </div>
      </div>
    </div>
    <div class="footer-divider"></div>
    <div class="footer-bottom">
      <div class="footer-copy">
        ¬© 2025 ProCV ¬∑ Developed with ‚ù§Ô∏è by <a href="mailto:hafidhomar167@gmail.com">Hafidh Omar Othman</a> ¬∑ All rights reserved.
      </div>
      <button class="scroll-top-btn" onclick="window.scrollTo({top:0,behavior:'smooth'})" aria-label="Back to top">‚Üë</button>
    </div>
  </div>
</footer>

<!-- ==================== JAVASCRIPT ==================== -->
<script>
"use strict";

/* ==========================================
   STATE
========================================== */
let expCount = 0;
let refCount  = 0;
const state = { exp: [], refs: [] };

/* ==========================================
   SCROLL & NAV
========================================== */
window.addEventListener('scroll', () => {
  const prog = document.getElementById('prog');
  const pct  = window.scrollY / (document.body.scrollHeight - window.innerHeight);
  prog.style.transform = `scaleX(${pct})`;
});

function toggleNav() { document.getElementById('nav-links').classList.toggle('open'); }
function closeNav()  { document.getElementById('nav-links').classList.remove('open'); }

/* ==========================================
   INTERSECTION OBSERVER (fade-up)
========================================== */
const observer = new IntersectionObserver(
  entries => entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); }),
  { threshold: 0.08 }
);
document.querySelectorAll('.fade-up').forEach(el => observer.observe(el));

/* ==========================================
   HELPERS
========================================== */
function val(id) {
  const el = document.getElementById(id);
  return el ? el.value.trim() : '';
}
function fmt(v) { return v || ''; }
function escHtml(str) {
  const d = document.createElement('div');
  d.textContent = str;
  return d.innerHTML;
}

/* ==========================================
   ADD / REMOVE EXPERIENCE
========================================== */
function addExp() {
  const id = expCount++;
  state.exp.push(id);
  const wrap = document.createElement('div');
  wrap.className = 'entry-card';
  wrap.id = `exp-card-${id}`;
  wrap.innerHTML = `
    <div class="entry-card-top">
      <span class="entry-card-label">Experience #${state.exp.length}</span>
      <button class="btn btn-sm btn-danger" onclick="removeExp(${id})">‚úï Remove</button>
    </div>
    <div class="form-grid">
      <div class="form-group">
        <label>Company Name *</label>
        <input type="text" id="exp-company-${id}" placeholder="e.g. Vodacom Tanzania" oninput="liveUpdate()"/>
      </div>
      <div class="form-group">
        <label>Position / Job Title *</label>
        <input type="text" id="exp-pos-${id}" placeholder="e.g. Software Developer" oninput="liveUpdate()"/>
      </div>
      <div class="form-group">
        <label>From (Month/Year)</label>
        <input type="text" id="exp-from-${id}" placeholder="Jan 2020" oninput="liveUpdate()"/>
      </div>
      <div class="form-group">
        <label>To (Month/Year)</label>
        <input type="text" id="exp-to-${id}" placeholder="Dec 2022 / Present" oninput="liveUpdate()"/>
      </div>
      <div class="form-group full">
        <label>Responsibilities & Achievements *</label>
        <textarea id="exp-resp-${id}" rows="3" placeholder="‚Ä¢ Developed and maintained web applications using React and Node.js&#10;‚Ä¢ Collaborated with cross-functional teams to deliver projects on time&#10;‚Ä¢ Reduced system downtime by 30% through proactive monitoring" oninput="liveUpdate()"></textarea>
      </div>
    </div>`;
  document.getElementById('exp-list').appendChild(wrap);
}

function removeExp(id) {
  const idx = state.exp.indexOf(id);
  if (idx > -1) state.exp.splice(idx, 1);
  const el = document.getElementById(`exp-card-${id}`);
  if (el) el.remove();
  liveUpdate();
}

/* ==========================================
   ADD / REMOVE REFEREE
========================================== */
function addRef() {
  const id = refCount++;
  state.refs.push(id);
  const wrap = document.createElement('div');
  wrap.className = 'entry-card';
  wrap.id = `ref-card-${id}`;
  wrap.innerHTML = `
    <div class="entry-card-top">
      <span class="entry-card-label">Referee #${state.refs.length}</span>
      <button class="btn btn-sm btn-danger" onclick="removeRef(${id})">‚úï Remove</button>
    </div>
    <div class="form-grid">
      <div class="form-group">
        <label>Full Name *</label>
        <input type="text" id="ref-name-${id}" placeholder="e.g. Dr. John Msigwa" oninput="liveUpdate()"/>
      </div>
      <div class="form-group">
        <label>Position / Title *</label>
        <input type="text" id="ref-pos-${id}" placeholder="e.g. Senior Lecturer" oninput="liveUpdate()"/>
      </div>
      <div class="form-group full">
        <label>Organization / Institution *</label>
        <input type="text" id="ref-org-${id}" placeholder="e.g. University of Dar es Salaam" oninput="liveUpdate()"/>
      </div>
      <div class="form-group">
        <label>Phone Number *</label>
        <input type="tel" id="ref-phone-${id}" placeholder="+255 000 000 000" oninput="liveUpdate()"/>
      </div>
      <div class="form-group">
        <label>Email Address *</label>
        <input type="email" id="ref-email-${id}" placeholder="referee@email.com" oninput="liveUpdate()"/>
      </div>
    </div>`;
  document.getElementById('ref-list').appendChild(wrap);
}

function removeRef(id) {
  const idx = state.refs.indexOf(id);
  if (idx > -1) state.refs.splice(idx, 1);
  const el = document.getElementById(`ref-card-${id}`);
  if (el) el.remove();
  liveUpdate();
}

/* ==========================================
   LIVE UPDATE ‚Äî BUILD CV HTML
========================================== */
function liveUpdate() {
  const name        = val('pi-name');
  const phone       = val('pi-phone');
  const email       = val('pi-email');
  const dob         = val('pi-dob');
  const gender      = val('pi-gender');
  const marital     = val('pi-marital');
  const nationality = val('pi-nationality');

  // Show empty state if nothing filled
  if (!name && !phone && !email) {
    document.getElementById('cv-doc').innerHTML = `
      <div class="empty-state" id="empty-state">
        <div class="empty-icon">üìÑ</div>
        <div class="empty-text">Start filling in the form<br>and your CV will appear here in real-time</div>
      </div>`;
    return;
  }

  // Format date nicely
  let dobDisplay = '';
  if (dob) {
    try {
      const d = new Date(dob);
      dobDisplay = d.toLocaleDateString('en-GB', { day: 'numeric', month: 'long', year: 'numeric' });
    } catch { dobDisplay = dob; }
  }

  // Education
  const priSchool = val('edu-pri-school');
  const priFrom   = val('edu-pri-from');
  const priTo     = val('edu-pri-to');
  const olvSchool = val('edu-olv-school');
  const olvFrom   = val('edu-olv-from');
  const olvTo     = val('edu-olv-to');
  const alvSchool = val('edu-alv-school');
  const alvFrom   = val('edu-alv-from');
  const alvTo     = val('edu-alv-to');
  const uniName   = val('edu-uni-name');
  const uniDegree = val('edu-uni-degree');
  const uniFrom   = val('edu-uni-from');
  const uniTo     = val('edu-uni-to');

  // Hobbies
  const hobbiesRaw = val('hobbies');
  const hobbies = hobbiesRaw ? hobbiesRaw.split('\n').map(h => h.trim()).filter(Boolean) : [];

  // Experience
  const expEntries = state.exp.map(id => ({
    company: val(`exp-company-${id}`),
    pos:     val(`exp-pos-${id}`),
    from:    val(`exp-from-${id}`),
    to:      val(`exp-to-${id}`),
    resp:    val(`exp-resp-${id}`),
  })).filter(e => e.company || e.pos);

  // Referees
  const refEntries = state.refs.map(id => ({
    name:  val(`ref-name-${id}`),
    pos:   val(`ref-pos-${id}`),
    org:   val(`ref-org-${id}`),
    phone: val(`ref-phone-${id}`),
    email: val(`ref-email-${id}`),
  })).filter(r => r.name);

  /* ---- Build HTML ---- */
  let html = `
  <div class="cv-top">
    <div class="cv-name">${escHtml(name || 'Your Full Name')}</div>
    <div class="cv-contacts-row">
      ${phone   ? `<div class="cv-ci">üìû ${escHtml(phone)}</div>` : ''}
      ${email   ? `<div class="cv-ci">‚úâÔ∏è ${escHtml(email)}</div>` : ''}
      ${nationality ? `<div class="cv-ci">üåç ${escHtml(nationality)}</div>` : ''}
    </div>
  </div>
  <div class="cv-inner">
    <div class="cv-cols">`;

  /* LEFT COLUMN */
  html += `<div class="cv-left">`;

  /* Personal Details */
  const hasPersonal = dobDisplay || gender || marital || nationality;
  if (hasPersonal) {
    html += `<div style="margin-bottom:1.25rem;">
      <div class="cv-sh">Personal Details</div>
      <table class="cv-detail-table">`;
    if (dobDisplay)   html += `<tr><td>Date of Birth</td><td>${escHtml(dobDisplay)}</td></tr>`;
    if (gender)       html += `<tr><td>Gender</td><td>${escHtml(gender)}</td></tr>`;
    if (marital)      html += `<tr><td>Marital Status</td><td>${escHtml(marital)}</td></tr>`;
    if (nationality)  html += `<tr><td>Nationality</td><td>${escHtml(nationality)}</td></tr>`;
    html += `</table></div>`;
  }

  /* Education */
  const hasEdu = priSchool || olvSchool || alvSchool || uniName;
  if (hasEdu) {
    html += `<div style="margin-bottom:1.25rem;"><div class="cv-sh">Education Background</div>`;
    if (priSchool) {
      html += `<div class="cv-edu-block">
        <div class="cv-edu-level">üè´ Primary Education</div>
        <div class="cv-edu-name">${escHtml(priSchool)}</div>
        ${(priFrom || priTo) ? `<div class="cv-edu-years">${escHtml(priFrom)}${priFrom && priTo ? ' ‚Äì ' : ''}${escHtml(priTo)}</div>` : ''}
      </div>`;
    }
    if (olvSchool) {
      html += `<div class="cv-edu-block">
        <div class="cv-edu-level">üìò O'Level (Ordinary)</div>
        <div class="cv-edu-name">${escHtml(olvSchool)}</div>
        ${(olvFrom || olvTo) ? `<div class="cv-edu-years">${escHtml(olvFrom)}${olvFrom && olvTo ? ' ‚Äì ' : ''}${escHtml(olvTo)}</div>` : ''}
      </div>`;
    }
    if (alvSchool) {
      html += `<div class="cv-edu-block">
        <div class="cv-edu-level">üìó A'Level (Advanced)</div>
        <div class="cv-edu-name">${escHtml(alvSchool)}</div>
        ${(alvFrom || alvTo) ? `<div class="cv-edu-years">${escHtml(alvFrom)}${alvFrom && alvTo ? ' ‚Äì ' : ''}${escHtml(alvTo)}</div>` : ''}
      </div>`;
    }
    if (uniName) {
      html += `<div class="cv-edu-block">
        <div class="cv-edu-level">üèõÔ∏è University / Higher Education</div>
        <div class="cv-edu-name">${escHtml(uniName)}</div>
        ${uniDegree ? `<div class="cv-edu-qual">${escHtml(uniDegree)}</div>` : ''}
        ${(uniFrom || uniTo) ? `<div class="cv-edu-years">${escHtml(uniFrom)}${uniFrom && uniTo ? ' ‚Äì ' : ''}${escHtml(uniTo)}</div>` : ''}
      </div>`;
    }
    html += `</div>`;
  }

  /* Hobbies */
  if (hobbies.length) {
    html += `<div><div class="cv-sh">Hobbies &amp; Interests</div>
      <ul class="cv-hobbies-list">
        ${hobbies.map(h => `<li>${escHtml(h)}</li>`).join('')}
      </ul>
    </div>`;
  }

  html += `</div>`; /* end cv-left */

  /* RIGHT COLUMN ‚Äî Work Experience */
  html += `<div class="cv-right">`;
  if (expEntries.length) {
    html += `<div style="margin-bottom:1.25rem;"><div class="cv-sh">Work Experience</div>`;
    expEntries.forEach(e => {
      html += `<div class="cv-exp-block">
        <div class="cv-exp-head">
          <div class="cv-exp-title">${escHtml(e.pos)}</div>
          ${(e.from || e.to) ? `<div class="cv-exp-dur">${escHtml(e.from)}${e.from && e.to ? ' ‚Äì ' : ''}${escHtml(e.to)}</div>` : ''}
        </div>
        ${e.company ? `<div class="cv-exp-company">${escHtml(e.company)}</div>` : ''}
        ${e.resp ? `<div class="cv-exp-resp">${escHtml(e.resp).replace(/\n/g, '<br>')}</div>` : ''}
      </div>`;
    });
    html += `</div>`;
  } else {
    html += `<div style="margin-bottom:1.25rem;">
      <div class="cv-sh">Work Experience</div>
      <div style="font-size:.78rem;color:var(--slate);font-style:italic;">No work experience added yet.</div>
    </div>`;
  }
  html += `</div>`; /* end cv-right */

  html += `</div>`; /* end cv-cols */

  /* REFEREES ‚Äî full width */
  if (refEntries.length) {
    html += `<div style="border-top:1px solid var(--light);padding-top:1.25rem;margin-top:.5rem;">
      <div class="cv-sh">References / Referees</div>
      <div class="cv-ref-grid">`;
    refEntries.forEach(r => {
      html += `<div class="cv-ref-block">
        <div class="cv-ref-name">${escHtml(r.name)}</div>
        <div class="cv-ref-info">
          ${r.pos  ? `<span>${escHtml(r.pos)}</span><br>` : ''}
          ${r.org  ? `<span>${escHtml(r.org)}</span><br>` : ''}
          ${r.phone ? `üìû <span>${escHtml(r.phone)}</span><br>` : ''}
          ${r.email ? `‚úâÔ∏è <span>${escHtml(r.email)}</span>` : ''}
        </div>
      </div>`;
    });
    html += `</div></div>`;
  }

  html += `</div>`; /* end cv-inner */

  document.getElementById('cv-doc').innerHTML = html;
}

/* ==========================================
   VALIDATION
========================================== */
function validateForm() {
  let ok = true;

  // Required personal fields
  const reqFields = [
    ['pi-name',        'e-pi-name',        'Full name is required'],
    ['pi-phone',       'e-pi-phone',       'Phone number is required'],
    ['pi-email',       'e-pi-email',       'Email address is required'],
    ['pi-dob',         'e-pi-dob',         'Date of birth is required'],
    ['pi-gender',      'e-pi-gender',      'Please select gender'],
    ['pi-marital',     'e-pi-marital',     'Please select marital status'],
    ['pi-nationality', 'e-pi-nationality', 'Nationality is required'],
  ];
  reqFields.forEach(([fid, eid]) => {
    const v2 = val(fid);
    const inp = document.getElementById(fid);
    const err = document.getElementById(eid);
    if (!v2) {
      ok = false;
      inp && inp.classList.add('err');
      err && err.classList.add('show');
    } else {
      inp && inp.classList.remove('err');
      err && err.classList.remove('show');
    }
  });

  // Email format
  const emailEl  = document.getElementById('pi-email');
  const emailErr = document.getElementById('e-pi-email');
  const emailVal = val('pi-email');
  if (emailVal && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailVal)) {
    ok = false;
    emailEl  && emailEl.classList.add('err');
    emailErr && emailErr.classList.add('show');
    if (emailErr) emailErr.textContent = 'Please enter a valid email address';
  }

  // Minimum 2 referees
  const refErr = document.getElementById('e-refs');
  if (state.refs.length < 2) {
    ok = false;
    if (refErr) refErr.classList.add('show');
  } else {
    if (refErr) refErr.classList.remove('show');
  }

  return ok;
}

/* ==========================================
   DOWNLOAD PDF
========================================== */
async function doDownloadPDF() {
  const name = val('pi-name');
  if (!name) {
    showAlert('‚ö†Ô∏è', 'Nothing to Export', 'Please enter your name and fill in your details before downloading.', false);
    return;
  }

  showAlert('‚è≥', 'Generating PDF‚Ä¶', 'Please wait while we prepare your professional CV.', true);

  // Animate progress bar
  setTimeout(() => {
    const bar = document.getElementById('a-prog-bar');
    if (bar) bar.style.width = '95%';
  }, 100);

  try {
    const { jsPDF } = window.jspdf;
    const cvDoc    = document.getElementById('cv-doc');

    const canvas = await html2canvas(cvDoc, {
      scale: 2,
      useCORS: true,
      backgroundColor: '#ffffff',
      logging: false,
    });

    const imgData = canvas.toDataURL('image/jpeg', 0.95);
    const pdf     = new jsPDF({ orientation: 'portrait', unit: 'mm', format: 'a4' });
    const pdfW    = pdf.internal.pageSize.getWidth();
    const pdfH    = pdf.internal.pageSize.getHeight();
    const imgW    = canvas.width;
    const imgH    = canvas.height;
    const ratio   = pdfW / imgW;
    const imgHmm  = imgH * ratio;

    if (imgHmm <= pdfH) {
      pdf.addImage(imgData, 'JPEG', 0, 0, pdfW, imgHmm);
    } else {
      let page = 0;
      while (page * pdfH < imgHmm) {
        if (page > 0) pdf.addPage();
        pdf.addImage(imgData, 'JPEG', 0, -(page * pdfH), pdfW, imgHmm);
        page++;
      }
    }

    const safeName = (name || 'CV').replace(/\s+/g, '-');
    pdf.save(`${safeName}-CV.pdf`);
    closeAlert();
    setTimeout(() => showAlert('‚úÖ', 'PDF Downloaded!', `"${safeName}-CV.pdf" has been saved to your downloads folder.`, false), 300);
  } catch (err) {
    console.error(err);
    closeAlert();
    setTimeout(() => showAlert('‚ùå', 'Export Failed', 'PDF generation encountered an error. Try using the Print button instead.', false), 300);
  }
}

/* ==========================================
   PRINT
========================================== */
function doPrint() {
  const name = val('pi-name');
  if (!name) {
    showAlert('‚ö†Ô∏è', 'Nothing to Print', 'Please fill in your details before printing.', false);
    return;
  }
  window.print();
}

/* ==========================================
   WHATSAPP
========================================== */
function doWhatsApp() {
  const name = val('pi-name');
  const msg  = encodeURIComponent(`Hello Hafidh, I would like a professionally designed CV.${name ? ' My name is ' + name + '.' : ''}`);
  window.open(`https://wa.me/255658502920?text=${msg}`, '_blank');
}

/* ==========================================
   RESET
========================================== */
function doReset() {
  if (!confirm('Reset all data? This action cannot be undone.')) return;

  // Clear all standard inputs & textareas
  document.querySelectorAll('input, textarea, select').forEach(el => {
    if (el.tagName === 'SELECT') el.selectedIndex = 0;
    else el.value = '';
    el.classList.remove('err');
  });

  // Remove error messages
  document.querySelectorAll('.err-msg').forEach(el => el.classList.remove('show'));

  // Clear dynamic lists
  document.getElementById('exp-list').innerHTML = '';
  document.getElementById('ref-list').innerHTML = '';
  state.exp  = [];
  state.refs = [];
  expCount = 0;
  refCount = 0;

  // Reset preview
  document.getElementById('cv-doc').innerHTML = `
    <div class="empty-state" id="empty-state">
      <div class="empty-icon">üìÑ</div>
      <div class="empty-text">Start filling in the form<br>and your CV will appear here in real-time</div>
    </div>`;

  showAlert('‚úÖ', 'Reset Complete!', 'All fields have been cleared. You can start building a fresh CV.', false);
}

/* ==========================================
   ALERT HELPERS
========================================== */
function showAlert(icon, title, msg, showProg) {
  document.getElementById('a-icon').textContent   = icon;
  document.getElementById('a-title').textContent  = title;
  document.getElementById('a-msg').textContent    = msg;

  const progWrap = document.getElementById('a-prog');
  const progBar  = document.getElementById('a-prog-bar');
  const btn      = document.getElementById('a-btn');

  if (showProg) {
    progWrap.classList.add('show');
    if (progBar) { progBar.style.width = '0%'; }
    btn.style.display = 'none';
  } else {
    progWrap.classList.remove('show');
    btn.style.display = '';
  }

  document.getElementById('overlay').classList.add('show');
}

function closeAlert() {
  document.getElementById('overlay').classList.remove('show');
  const progBar = document.getElementById('a-prog-bar');
  if (progBar) progBar.style.width = '0%';
  document.getElementById('a-prog').classList.remove('show');
  document.getElementById('a-btn').style.display = '';
}

document.getElementById('overlay').addEventListener('click', function(e) {
  if (e.target === this) closeAlert();
});

/* ==========================================
   INIT ‚Äî pre-add 2 referees as required
========================================== */
(function init() {
  addExp();      // start with 1 experience
  addRef();      // start with 2 required refs
  addRef();
})();
</script>
</body>
</html>
